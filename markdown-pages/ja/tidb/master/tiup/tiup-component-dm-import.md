---
title: tiup dm import
summary: TiUP DMの `import` コマンドは、DM クラスターを v1.0 から v2.0 以降のバージョンにアップグレードするために使用されます。DM Portal コンポーネントを v1.0 クラスターからインポートすることはサポートされておらず、インポートする前に元のクラスターを停止する必要があります。このコマンドは、DM v2.0.0-rc.2 以降のバージョンへのインポートのみをサポートしており、DM v1.0 クラスターを新しい DM v2.0 クラスターにインポートするために使用できます。インポート後、クラスターには DM マスター ノードが 1 つだけ存在し、一部のコンポーネントのデプロイメント ディレクトリは元のクラスターのものと異なる場合があります。
---

# tiup dm import <span class="version-mark">DM v1.0 のアップグレードのみ</span> {#tiup-dm-import-span-class-version-mark-only-for-upgrading-dm-v1-0-span}

<Note>

このコマンドは、DM クラスターを v1.0 から v2.0 以降のバージョンにアップグレードする場合にのみ使用されます。

</Note>

DM v1.0 では、クラスターは基本的に TiDB Ansible を使用してデプロイされます。TiUP TiUP DM は、 v1.0 クラスターをインポートし、DM v2.0 でクラスターを再デプロイするための`import`コマンドを提供します。

> **注記：**
>
> -   このコマンドは、DM v1.0 クラスターからの DM Portal コンポーネントのインポートをサポートしていません。
> -   クラスターをインポートする前に、まず元のクラスターの実行を停止します。
> -   v2.0 にアップグレードする必要があるデータ移行タスクの場合、これらのタスクで`stop-task`実行しないでください。
> -   このコマンドは、DM v2.0.0-rc.2 以降のバージョンへのインポートのみをサポートします。
> -   `import`コマンドは、DM v1.0 クラスターを新しい DM v2.0 クラスターにインポートするために使用されます。データ移行タスクを既存の v2.0 クラスターにインポートする必要がある場合は、 [TiDB データ移行を v1.0.x から v2.0+ に手動でアップグレードする](/dm/manually-upgrade-dm-1.0-to-2.0.md)を参照してください。
> -   一部のコンポーネントのデプロイメント ディレクトリは`display`元のクラスターのものと異なる場合があります。1 コマンドで確認できます。
> -   クラスターをインポートする前に、 `tiup update --self && tiup update dm`実行してTiUP DMコンポーネントを最新バージョンにアップグレードします。
> -   クラスターをインポートすると、クラスター内に DM マスター ノードが 1 つだけ存在します。DM マスター ノードをスケールアウトするには、 [`scale out`コマンド](/tiup/tiup-component-dm-scale-out.md)を参照してください。

## 構文 {#syntax}

```shell
tiup dm import [flags]
```

## オプション {#options}

### -v, --cluster-バージョン {#v-cluster-version}

-   再デプロイするバージョン番号を指定します。v2.0.0-rc.2 以降 (v2.0.0-rc.2 を含む) のバージョンを使用する必要があります。
-   データ型: `STRING`
-   コマンドを実行するにはこのオプションが**必要**です。

### -d, --dir {#d-dir}

-   TiDB Ansible のディレクトリを指定します。
-   データ型: `STRING`
-   コマンドでこのオプションが指定されていない場合、現在のディレクトリがデフォルトのディレクトリになります。

### &#x20;--inventory {#inventory}

-   Ansible インベントリ ファイルの名前を指定します。
-   データ型: `STRING`
-   このオプションがコマンドで指定されていない場合、デフォルトのファイル名は`"inventory.ini"`なります。

### --rename {#rename}

-   インポートされたクラスターの名前を変更します。
-   データ型: `STRING`
-   このオプションがコマンドで指定されていない場合、デフォルトのクラスター名はインベントリ ファイルで指定された`cluster_name`なります。

### -h, --help {#h-help}

-   ヘルプ情報を出力します。
-   データ型: `BOOLEAN`
-   このオプションは、デフォルトで値`false`で無効になっています。このオプションを有効にするには、このオプションをコマンドに追加し、値`true`を渡すか、値を渡さないようにする必要があります。

## 出力 {#outputs}

インポートプロセスのログ。

[&lt;&lt; 前のページに戻る - TiUP DMコマンドリスト](/tiup/tiup-component-dm.md#command-list)

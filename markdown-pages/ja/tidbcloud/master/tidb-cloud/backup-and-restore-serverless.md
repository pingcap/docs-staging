---
title: Back Up and Restore TiDB Serverless Data
summary: TiDB Serverless クラスターをバックアップおよび復元する方法を学びます。
---

# TiDB サーバーレス データのバックアップと復元 {#back-up-and-restore-tidb-serverless-data}

このドキュメントでは、TiDB Cloudで TiDB Serverless クラスター データをバックアップおよび復元する方法について説明します。

> **ヒント：**
>
> TiDB 専用クラスター データをバックアップおよび復元する方法については、 [TiDB専用データのバックアップと復元](/tidb-cloud/backup-and-restore.md)参照してください。

## 制限事項 {#limitations}

-   TiDB Serverless クラスターは、バックアップからのインプレース復元のみをサポートしていることに注意してください。復元を実行すると、 `mysql`スキーマ内のテーブルも影響を受けます。したがって、ユーザーの資格情報や権限、システム変数に加えられた変更は、バックアップが作成された時点の状態にロールバックされます。
-   手動バックアップはまだサポートされていません。
-   復元プロセス中はクラスターは使用できなくなり、既存の接続は終了します。復元が完了すると、新しい接続を確立できます。
-   TiFlashレプリカが有効になっている場合、データをTiFlashで再構築する必要があるため、復元後しばらくの間レプリカは使用できなくなります。

## バックアップ {#backup}

バックアップ設定に従って、TiDB Serverless クラスターの自動バックアップがスケジュールされるため、極端な災害状況での損失を軽減できます。

### 自動バックアップ {#automatic-backup}

自動バックアップにより、設定したバックアップ時間に毎日 TiDB Serverless クラスターのデータをバックアップできます。バックアップ時間を設定するには、次の手順を実行します。

1.  TiDB Serverless クラスターの**バックアップ**ページに移動します。

2.  **「バックアップ設定」**をクリックします。これにより、 **「バックアップ設定」**ウィンドウが開き、要件に応じて自動バックアップ設定を構成できます。

    -   **[バックアップ時間]**で、毎日のクラスター バックアップの開始時刻をスケジュールします。

        優先バックアップ時間を指定しない場合、 TiDB Cloud はデフォルトのバックアップ時間 (クラスターが配置されているリージョンのタイムゾーンの午前 2 時) を割り当てます。

    -   **「バックアップ保持」**で、最小バックアップ データの保持期間を構成します。

        バックアップの保持期間は 7 日から 90 日の範囲で設定する必要があります。

3.  **[確認]を**クリックします。

### バックアップファイルを削除する {#delete-backup-files}

既存のバックアップ ファイルを削除するには、次の手順を実行します。

1.  クラスターの**「バックアップ」**タブに移動します。

2.  削除するバックアップ ファイルの**[削除] を**クリックします。

## 復元する {#restore}

TiDB Serverless はインプレース復元のみをサポートします。バックアップから TiDB Serverless クラスターを復元するには、次の手順に従います。

1.  クラスターの**バックアップ**ページに移動します。

2.  **「復元」**をクリックします。設定ウィンドウが表示されます。

3.  **復元モード**では、特定のバックアップまたは任意の時点から復元することを選択できます。

    <SimpleTab>
     <div label="Basic Snapshot Restore">

    選択したバックアップ スナップショットから復元するには、次の手順を実行します。

    1.  **[基本スナップショットの復元]**をクリックします。
    2.  復元するバックアップ スナップショットを選択します。

    </div>
     <div label="Point-in-Time Restore">

    この機能を使用すると、過去 90 日以内の任意の時点からクラスターを特定の状態へ復元できます。

    > **注記：**
    >
    > **ポイントインタイム リストア**機能は現在ベータ版です。

    特定の時点から復元するには、次の手順を実行します。

    1.  **ポイントインタイム復元を**クリックします。
    2.  復元したい日付と時刻を選択します。

    </div>
     </SimpleTab>

4.  復元プロセスを開始するには、 **「復元」**をクリックします。

    復元プロセスを開始すると、クラスターのステータスが**「復元**中」に変わります。復元プロセス中はクラスターは使用できなくなり、既存の接続は終了します。復元プロセスが正常に完了すると、通常どおりクラスターにアクセスできるようになります。

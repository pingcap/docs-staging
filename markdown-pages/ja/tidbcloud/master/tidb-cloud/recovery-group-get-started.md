---
title: Get Started with Recovery Groups
summary: TiDB Cloudでリカバリ グループを作成し、その詳細を表示する方法について説明します。
---

# リカバリグループの使用を開始する {#get-started-with-recovery-groups}

このドキュメントでは、 [TiDB Cloudコンソール](https://tidbcloud.com/)を使用してTiDB Cloud Dedicated クラスターで実行されているデータベースを保護するためのリカバリ グループを作成する方法について説明します。また、リカバリ グループの詳細を表示する方法も示します。

## 前提条件 {#prerequisites}

-   リカバリ グループは、データベースを別のクラスターに複製して、地域の災害からデータベースを保護します。リカバリ グループを作成する前に、2 つのTiDB Cloud Dedicated クラスターが必要です。1 つのクラスターはプライマリ データベースをホストし、2 つ目のクラスターはプライマリ データベースのレプリカをホストします。まだ行っていない場合は、 [TiDB専用クラスタを作成する](/tidb-cloud/create-tidb-cluster.md)の手順に従って必要なクラスターを作成してください。
-   リカバリ グループを作成するには、組織の`Organization Owner`ロールまたは対象プロジェクトの`Project Owner`のロールに属している必要があります。

> **注記**
>
> 現在、AWS でホストされている TiDB 専用クラスターのみがリカバリ グループをサポートしています。

## 新しい回復グループを作成する {#create-a-new-recovery-group}

回復グループを作成するには、次の手順を実行します。

1.  [TiDB Cloudコンソール](https://tidbcloud.com/)で、<mdsvgicon name="icon-left-projects">左下隅で、複数のプロジェクトがある場合は対象プロジェクトに切り替えて、 **[プロジェクト設定]**をクリックします。</mdsvgicon>

2.  **プロジェクト設定**ナビゲーション ペインで、**回復グループ**をクリックします。

3.  **[回復グループ]**ページで、 **[回復グループの作成] を**クリックします。

4.  **[リカバリ グループの作成]**ページで、リカバリ グループの名前を入力します。

    > **注記**
    >
    > 現在サポートされている回復力レベルは 1 つだけです。詳細については、 [回復力レベルについて](#about-resiliency-levels)参照してください。

5.  このグループのプライマリ クラスターとなる TiDB 専用クラスターを選択します。

6.  このグループのデータベースが複製されるセカンダリ クラスターとなる TiDB 専用クラスターを選択します。

7.  このリカバリ グループの一部としてレプリケートするデータベースを選択します。

    > **注記**
    >
    > グループにデータベースを割り当てるときは、特定のデータベースを選択するか、プライマリ クラスター (現在および将来) 上のすべての (システム以外の) データベースを選択できます。
    >
    > -   **すべてのデータベース (現在および将来) を割り当てる**と、クラスターに追加される将来のデータベースはすべてこのリカバリ グループに自動的に含まれ、セカンダリ クラスターに複製されます。
    > -   **特定のデータベースを割り当てる**場合は、セカンダリ クラスターにレプリケートするプライマリ クラスター上の特定のデータベースを選択します。将来、プライマリ クラスターにデータベースが追加されても、これらの新しいデータベースはこのリカバリ グループの一部として自動的にレプリケートされません。
    >
    > 初期レプリケーション中は、転送されるデータの量により、プライマリ クラスターまたはセカンダリ クラスターでのオンライン クエリ パフォーマンスが影響を受ける可能性があります。データベースの初期保護は、あまり忙しくない期間にスケジュールしてください。

    > **警告**
    >
    > 初期レプリケーション中に、プライマリ クラスターの選択されたデータベースの内容が、セカンダリ クラスターのデータベースの内容に置き換えられます。セカンダリ クラスターの一意の内容を保持する場合は、リカバリ グループを設定する前にバックアップを完了してください。

8.  概要情報を確認し、 **[作成] を**クリックして、新しい回復グループの一部としてデータベースの保護を開始します。

## 回復グループの詳細をビュー {#view-recovery-group-details}

リカバリ グループを作成した後、**リカバリ グループの詳細**ページでそのステータス情報を表示できます。

1.  [TiDB Cloudコンソール](https://tidbcloud.com/)で、<mdsvgicon name="icon-left-projects">左下隅で、複数のプロジェクトがある場合は対象プロジェクトに切り替えて、 **[プロジェクト設定]**をクリックします。</mdsvgicon>

2.  **プロジェクト設定**ナビゲーション ペインで、**回復グループ**をクリックします。

3.  **[回復グループ]**ページで、表示する回復グループの名前をクリックします。

    **リカバリ グループの詳細**ページには、リカバリ グループの構成の詳細、ステータス、レプリケーションのスループットとレイテンシーのメトリックなど、リカバリ グループに関する情報が表示されます。

4.  レプリケーション関係が完全に確立され、機能している場合、ステータスは**「使用可能」**として表示されます。

    > **警告**
    >
    > リカバリ グループのセットアップ中に、パターン`cloud-rg-*`に従って名前が付けられたアカウントがレプリケーション プロセス用のセカンダリ クラスターに作成されます。このアカウントを削除または変更すると、レプリケーションが中断されます。

## 回復力レベルについて {#about-resiliency-levels}

回復レベルは、リカバリ グループのさまざまなシナリオにおけるデータ読み取りの一貫性特性を定義します。現在、 TiDB Cloud は次の回復レベルのみを提供しています。

-   一貫性は保証されません。リカバリ グループのレプリケーション中、ダウンストリーム クラスターはトランザクション一貫性読み取りを保証しません。アップストリーム クラスターが使用できなくなった場合、ダウンストリーム クラスターのデータをトランザクション一貫性状態に復元することはできません。

TiDB Cloud は、近い将来、次の 2 つの追加の回復力レベルを提供する予定です。

-   最終的な一貫性。リカバリ グループのレプリケーション中、ダウンストリーム クラスターはトランザクションの一貫性読み取りを保証しません。ただし、アップストリーム クラスターが使用できなくなった場合は、ダウンストリーム クラスターのデータをトランザクションの一貫性状態に復元できます。
-   ほぼリアルタイムの一貫性。リカバリ グループのレプリケーション中、ダウンストリーム クラスターはほぼリアルタイムのトランザクション一貫性読み取りを提供します。アップストリーム クラスターが使用できなくなった場合は、ダウンストリーム クラスターのデータをトランザクション一貫性状態に復元できます。

## 次は何ですか {#what-s-next}

リカバリ グループを作成したら、フェールオーバーと再保護の操作について理解しておく必要があります。これらの操作は、レプリケートされたデータベースのプライマリ クラスターを 1 つのクラスターから別のクラスターに**フェールオーバーし**、その後、反対方向にレプリケーションを再確立して、フェールオーバーされたデータベースを**再保護する**ために使用されます。

-   [データベースのフェイルオーバーと再保護](/tidb-cloud/recovery-group-failover.md)

---
title: TiDB Cloud Built-in Alerting
summary: TiDB Cloudからアラート通知メールを受信して​​、TiDB クラスターを監視する方法を学習します。
---

# TiDB Cloud組み込みアラート {#tidb-cloud-built-in-alerting}

TiDB Cloudと、アラートの表示、アラート ルールの編集、アラート通知メールの購読を簡単に行うことができます。

このドキュメントでは、これらの操作を実行する方法について説明し、参考としてTiDB Cloudに組み込まれているアラート条件を示します。

> **注記：**
>
> 現在、アラート機能は[TiDB専用](/tidb-cloud/select-cluster-tier.md#tidb-dedicated)クラスターでのみ使用できます。

## アラートをビュー {#view-alerts}

TiDB Cloudでは、アラート ページでアクティブなアラートとクローズされたアラートの両方を表示できます。

1.  [TiDB Cloudコンソール](https://tidbcloud.com/)で、プロジェクトの[**クラスター**](https://tidbcloud.com/console/clusters)ページに移動します。

    > **ヒント：**
    >
    > 複数のプロジェクトがある場合は、<mdsvgicon name="icon-left-projects">左下隅にある をクリックして、別のプロジェクトに切り替えます。</mdsvgicon>

2.  対象クラスターの名前をクリックします。クラスターの概要ページが表示されます。

3.  左側のナビゲーション ペインで**[アラート]**をクリックします。

4.  **アラート**ページには、デフォルトでアクティブなアラートが表示されます。アラート名、トリガー時間、期間など、アクティブなアラートごとの情報を表示できます。

5.  クローズされたアラートも表示したい場合は、 **[ステータス]**ドロップダウン リストをクリックし、 **[クローズ済み]**または**[すべて]**を選択します。

## アラートルールを編集する {#edit-alert-rules}

TiDB Cloudでは、アラートを無効または有効にしたり、アラートしきい値を更新したりすることで、アラート ルールを編集できます。

1.  **[アラート]**ページで、 **[ルールの編集] を**クリックします。
2.  必要に応じてアラート ルールを無効または有効にします。
3.  アラート ルールのしきい値を更新するには、 **[編集] を**クリックします。

    > **ヒント：**
    >
    > 現在、 TiDB Cloudアラート ルールの編集機能が制限されています。一部のアラート ルールは編集をサポートしていません。異なるトリガー条件や頻度を構成したり、アラートによって[ページャーデューティ](https://www.pagerduty.com/docs/guides/datadog-integration-guide/)などのダウンストリーム サービスでアクションが自動的にトリガーされるようにしたい場合は、 [サードパーティの監視とアラートの統合](/tidb-cloud/third-party-monitoring-integrations.md)の使用を検討してください。

## アラート通知メールを購読する {#subscribe-to-alert-notification-emails}

プロジェクト内のクラスターのアラート通知メールを受信するには、次の手順を実行します。

1.  **[アラート]**ページで、 **[アラートを購読] を**クリックします。
2.  メールアドレスを入力し、 **「登録」を**クリックします。

    > **ヒント：**
    >
    > アラートのサブスクリプションは、現在のプロジェクト内のすべてのアラートを対象としています。プロジェクト内に複数のクラスターがある場合は、一度だけサブスクライブする必要があります。

または、次のようにして**「アラート サブスクリプション」**ページからサブスクリプションを追加することもできます。

1.  [TiDB Cloudコンソール](https://tidbcloud.com)にログインします。
2.  クリック<mdsvgicon name="icon-left-projects">左下隅で、複数のプロジェクトがある場合は対象プロジェクトに切り替えて、 **[プロジェクト設定]**をクリックします。</mdsvgicon>
3.  プロジェクトの**「プロジェクト設定」**ページで、左側のナビゲーション ペインの**「アラート サブスクリプション」**をクリックします。
4.  **[購読者を追加] を**クリックし、表示されたダイアログにメール アドレスを入力して、 **[追加] を**クリックします。

アラート条件が変更されない場合、アラートは 3 時間ごとに電子メール通知を送信します。

## アラート通知メールの購読を解除する {#unsubscribe-from-alert-notification-emails}

プロジェクト内のクラスターのアラート通知メールを受信したくない場合は、次の手順を実行します。

1.  [TiDB Cloudコンソール](https://tidbcloud.com)にログインします。
2.  クリック<mdsvgicon name="icon-left-projects">左下隅で、複数のプロジェクトがある場合は対象プロジェクトに切り替えて、 **[プロジェクト設定]**をクリックします。</mdsvgicon>
3.  プロジェクトの**「プロジェクト設定」**ページで、左側のナビゲーション ペインの**「アラート サブスクリプション」**をクリックします。
4.  メールアドレスを見つけて、 **「登録解除」**をクリックします。
5.  登録解除を確認するには、 **「削除」を**クリックします。

## TiDB Cloud組み込みアラート条件 {#tidb-cloud-built-in-alert-conditions}

次の表は、 TiDB Cloud に組み込まれているアラート条件とそれに対応する推奨アクションを示しています。

> **注記：**
>
> -   これらの警告状態は必ずしも問題があることを意味するわけではありませんが、多くの場合、新たな問題が発生する早期警告の指標となります。したがって、推奨されるアクションを実行することをお勧めします。
> -   TiDB Cloudコンソールでアラートのしきい値を編集できます。
> -   一部のアラート ルールはデフォルトで無効になっています。必要に応じて有効にすることができます。

### リソース使用状況アラート {#resource-usage-alerts}

| 状態                                          | 推奨される行動                                                                                                                                                  |
| :------------------------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------- |
| クラスター全体の TiDB ノードメモリ使用率が 10 分間で 70% を超えました  | 現在のワークロードのメモリ使用量の割合を減らすには、TiDB のノード数またはノード サイズを増やすことを検討してください。                                                                                           |
| クラスター全体の TiKV ノードメモリ使用率が 10 分間で 70% を超えました  | 現在のワークロードのメモリ使用量の割合を減らすには、TiKV のノード数またはノード サイズを増やすことを検討してください。                                                                                           |
| クラスター全体のTiFlashノードメモリ使用率が 10 分間で 70% を超えました | 現在のワークロードのメモリ使用率を下げるには、 TiFlashのノード数またはノード サイズを増やすことを検討してください。                                                                                           |
| TiDBノードの合計CPU使用率が10分間80%を超えました              | 現在のワークロードの CPU 使用率を下げるには、TiDB のノード数またはノード サイズを増やすことを検討してください。                                                                                            |
| TiKVノードのCPU使用率が10分間80%を超えました                | 現在のワークロードの CPU 使用率を下げるには、TiKV のノード数またはノード サイズを増やすことを検討してください。                                                                                            |
| TiFlashノードの合計 CPU 使用率が 10 分間 80% を超えました     | 現在のワークロードの CPU 使用率を下げるには、 TiFlashのノード数またはノード サイズを増やすことを検討してください。                                                                                         |
| TiKVstorageの使用率が80%を超える                     | storage容量を増やすには、TiKV のノード数またはノードstorageサイズを増やすことを検討してください。                                                                                               |
| TiFlashstorageの使用率が80%を超える                  | storage容量を増やすには、 TiFlashのノード数またはノードstorageサイズを増やすことを検討してください。                                                                                            |
| TiDB ノード全体の最大メモリ使用率が 10 分間 70% を超えました       | 現在のワークロードのメモリ使用率を減らすには、クラスター内に[ホットスポット](/tidb-cloud/tidb-cloud-sql-tuning-overview.md#hotspot-issues)あるかどうかを確認するか、TiDB のノード数またはノード サイズを増やすことを検討してください。   |
| TiKV ノード全体の最大メモリ使用率が 10 分間 70% を超えました       | 現在のワークロードのメモリ使用率を減らすには、クラスター内に[ホットスポット](/tidb-cloud/tidb-cloud-sql-tuning-overview.md#hotspot-issues)あるかどうかを確認するか、TiKV のノード数またはノード サイズを増やすことを検討してください。   |
| TiDB ノード全体の最大 CPU 使用率が 10 分間 80% を超えました     | 現在のワークロードの CPU 使用率を減らすには、クラスター内に[ホットスポット](/tidb-cloud/tidb-cloud-sql-tuning-overview.md#hotspot-issues)あるかどうかを確認するか、TiDB のノード数またはノード サイズを増やすことを検討してください。 |
| TiKV ノード全体の最大 CPU 使用率が 10 分間 80% を超えました     | 現在のワークロードの CPU 使用率を減らすには、クラスター内に[ホットスポット](/tidb-cloud/tidb-cloud-sql-tuning-overview.md#hotspot-issues)あるかどうかを確認するか、TiKV のノード数またはノード サイズを増やすことを検討してください。 |

### データ移行アラート {#data-migration-alerts}

| 状態                                       | 推奨される行動                                                                                                                                                                                                                                       |
| :--------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| データ移行ジョブでデータのエクスポート中にエラーが発生しました          | エラーを確認し、ヘルプについては[データ移行のトラブルシューティング](/tidb-cloud/tidb-cloud-dm-precheck-and-troubleshooting.md#migration-errors-and-solutions)参照してください。                                                                                                        |
| データ移行ジョブでデータのインポート中にエラーが発生しました           | エラーを確認し、ヘルプについては[データ移行のトラブルシューティング](/tidb-cloud/tidb-cloud-dm-precheck-and-troubleshooting.md#migration-errors-and-solutions)参照してください。                                                                                                        |
| 増分移行中にデータ移行ジョブでエラーが発生しました                | エラーを確認し、ヘルプについては[データ移行のトラブルシューティング](/tidb-cloud/tidb-cloud-dm-precheck-and-troubleshooting.md#migration-errors-and-solutions)参照してください。                                                                                                        |
| 増分移行中にデータ移行ジョブが 6 時間以上一時停止されました          | データ移行ジョブは、データ増分移行中に 6 時間以上一時停止されています。アップストリーム データベースのbinlogが消去され (データベースbinlog消去戦略によって異なります)、増分移行が失敗する可能性があります。ヘルプについては[データ移行のトラブルシューティング](/tidb-cloud/tidb-cloud-dm-precheck-and-troubleshooting.md#migration-errors-and-solutions)参照してください。 |
| レプリケーションの遅延が 10 分を超えており、20 分以上も増加し続けています | ヘルプについては[データ移行のトラブルシューティング](/tidb-cloud/tidb-cloud-dm-precheck-and-troubleshooting.md#migration-errors-and-solutions)参照してください。                                                                                                                |

### チェンジフィードアラート {#changefeed-alerts}

| 状態                                     | 推奨される行動                                                         |
| :------------------------------------- | :-------------------------------------------------------------- |
| Changefeed プロセッサのチェックポイント遅延が 600 秒を超える | ダウンストリーム システムとネットワーク構成が正常に機能しているかどうかを確認し、インデックス テーブルの可能性を排除します。 |

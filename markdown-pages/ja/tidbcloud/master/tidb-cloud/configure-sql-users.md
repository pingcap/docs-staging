---
title: Manage Database Users and Roles
summary: TiDB Cloudコンソールでデータベース ユーザーとロールを管理する方法を学習します。
---

# データベースユーザーとロールの管理 {#manage-database-users-and-roles}

このドキュメントでは、 [TiDB Cloudコンソール](https://tidbcloud.com/) **SQL ユーザー**ページを使用してデータベース ユーザーとロールを管理する方法について説明します。

> **注記：**
>
> -   **SQL ユーザー**ページはベータ版であり、リクエストがあった場合にのみ利用できます。この機能をリクエストするには、 [TiDB Cloudコンソール](https://tidbcloud.com)の右下隅にある**[?]**をクリックし、 **[サポートのリクエスト**] をクリックします。次に、 **[説明]**フィールドに「SQL ユーザー ページに申し込む」と入力し、 **[送信] を**クリックします。
> -   データベース ユーザーとロールは[組織とプロジェクトのユーザーと役割](/tidb-cloud/manage-user-access.md)とは独立しています。データベース ユーザーは TiDB クラスター内のデータベースにアクセスするために使用されますが、組織ユーザーとプロジェクト ユーザーは[TiDB Cloudコンソール](https://tidbcloud.com/)内の組織とプロジェクトにアクセスするために使用されます。
> -   **SQL ユーザー**ページに加えて、SQL クライアントを使用してクラスターに接続し、SQL ステートメントを記述することで、データベース ユーザーとロールを管理することもできます。詳細については、 [TiDB ユーザーアカウント管理](https://docs.pingcap.com/tidb/dev/user-account-management)を参照してください。

## データベースユーザーの役割 {#roles-of-database-users}

TiDB Cloudでは、ロールベースのアクセス制御のために、組み込みロールと複数のカスタム ロール (使用可能な場合) の両方を SQL ユーザーに付与できます。

-   組み込みロール

    TiDB Cloud には、 SQL ユーザーのデータベース アクセスを制御するのに役立つ次の組み込みロールが用意されています。組み込みロールの 1 つを SQL ユーザーに付与できます。

    -   `Database Admin`
    -   `Database Read-Write`
    -   `Database Read-Only`

-   カスタムロール

    組み込みロールに加えて、クラスターに[`CREATE ROLE`](/sql-statements/sql-statement-create-role.md)ステートメントを使用して作成されたカスタム ロールがある場合は、 TiDB Cloudコンソールで SQL ユーザーを作成または編集するときに、これらのカスタム ロールを SQL ユーザーに付与することもできます。

SQL ユーザーに組み込みロールと複数のカスタム ロールの両方が付与されると、ユーザーの権限はこれらのロールから派生したすべての権限の結合になります。

## 前提条件 {#prerequisites}

-   **SQL ユーザー**ページを使用してデータベース ユーザーとロールを管理するには、組織の`Organization Owner`ロールまたはプロジェクトの`Project Owner`ロールに属している必要があります。
-   プロジェクトのロール`Project Data Access Read-Write`または`Project Data Access Read-Only`の場合、そのプロジェクトの**SQL ユーザー**ページでのみデータベース ユーザーを表示できます。

## SQLユーザーを作成する {#create-a-sql-user}

SQL ユーザーを作成するには、次の手順を実行します。

1.  [TiDB Cloudコンソール](https://tidbcloud.com/)で、プロジェクトの[**クラスター**](https://tidbcloud.com/console/clusters)ページに移動します。

    > **ヒント：**
    >
    > 複数のプロジェクトがある場合は、<mdsvgicon name="icon-left-projects">左下隅にある をクリックして、別のプロジェクトに切り替えます。</mdsvgicon>

2.  クラスター名をクリックし、左側のナビゲーション ペインで**[SQL ユーザー]**をクリックします。

3.  右上隅の**「SQL ユーザーの作成」を**クリックします。

    SQL ユーザー構成のダイアログが表示されます。

4.  ダイアログで、SQL ユーザーの情報を次のように入力します。

    1.  SQL ユーザーの名前を入力します。
    2.  SQL ユーザーのパスワードを作成するか、 TiDB Cloudでユーザーのパスワードを自動的に生成します。
    3.  SQL ユーザーにロールを付与します。

        -   **組み込みロール**:**組み込みロール**ドロップダウン リストで SQL ユーザーの組み込みロールを選択する必要があります。

        -   **カスタム ロール**: クラスターに[`CREATE ROLE`](/sql-statements/sql-statement-create-role.md)ステートメントを使用して作成されたカスタム ロールがある場合は、 **[カスタム ロール]**ドロップダウン リストからロールを選択して、SQL ユーザーにカスタム ロールを付与できます。それ以外の場合、 **[カスタム ロール]**ドロップダウン リストはここでは表示されません。

    各 SQL ユーザーに対して、組み込みロールと複数のカスタム ロール (存在する場合) を付与できます。

5.  **[作成]を**クリックします。

## SQL ユーザーをビュー {#view-sql-users}

クラスターの SQL ユーザーを表示するには、次の手順を実行します。

1.  [TiDB Cloudコンソール](https://tidbcloud.com/)で、プロジェクトの[**クラスター**](https://tidbcloud.com/console/clusters)ページに移動します。

    > **ヒント：**
    >
    > 複数のプロジェクトがある場合は、<mdsvgicon name="icon-left-projects">左下隅にある をクリックして、別のプロジェクトに切り替えます。</mdsvgicon>

2.  クラスター名をクリックし、左側のナビゲーション ペインで**[SQL ユーザー]**をクリックします。

## SQL ユーザーを編集する {#edit-a-sql-user}

SQL ユーザーのパスワードまたはロールを編集するには、次の手順を実行します。

1.  [TiDB Cloudコンソール](https://tidbcloud.com/)で、プロジェクトの[**クラスター**](https://tidbcloud.com/console/clusters)ページに移動します。

    > **ヒント：**
    >
    > 複数のプロジェクトがある場合は、<mdsvgicon name="icon-left-projects">左下隅にある をクリックして、別のプロジェクトに切り替えます。</mdsvgicon>

2.  クラスター名をクリックし、左側のナビゲーション ペインで**[SQL ユーザー]**をクリックします。

3.  編集する SQL ユーザーの行で、 **[アクション]**列の [ **...]**をクリックし、 **[編集] を**クリックします。

    SQL ユーザー構成のダイアログが表示されます。

4.  ダイアログでは、必要に応じてユーザーのパスワードとロールを編集し、 **「更新」**をクリックできます。

    > **注記：**
    >
    > デフォルトの`<prefix>.root`ユーザーの役割は変更をサポートしていません。パスワードのみ変更できます。

## SQL ユーザーを削除する {#delete-a-sql-user}

SQL ユーザーを削除するには、次の手順を実行します。

1.  [TiDB Cloudコンソール](https://tidbcloud.com/)で、プロジェクトの[**クラスター**](https://tidbcloud.com/console/clusters)ページに移動します。

    > **ヒント：**
    >
    > 複数のプロジェクトがある場合は、<mdsvgicon name="icon-left-projects">左下隅にある をクリックして、別のプロジェクトに切り替えます。</mdsvgicon>

2.  クラスター名をクリックし、左側のナビゲーション ペインで**[SQL ユーザー]**をクリックします。

3.  編集する SQL ユーザーの行で、 **[アクション]**列の [ **...]**をクリックし、 **[削除] を**クリックします。

    > **注記：**
    >
    > デフォルトの`<prefix>.root`ユーザーは削除をサポートしていません。

4.  削除を確認します。

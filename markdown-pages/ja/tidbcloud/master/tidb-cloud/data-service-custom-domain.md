---
title: Custom Domain in Data Service
summary: カスタム ドメインを使用してTiDB Cloudデータ サービスのデータ アプリにアクセスする方法を学習します。
---

# データ サービスにおけるカスタム ドメイン {#custom-domain-in-data-service}

TiDB Cloudデータ サービスは、各データ アプリのエンドポイントにアクセスするためのデフォルト ドメイン`<region>.data.tidbcloud.com`を提供します。パーソナライズと柔軟性を高めるために、デフォルト ドメインを使用する代わりに、データ アプリのカスタム ドメインを構成できます。

このドキュメントでは、データ アプリでカスタム ドメインを管理する方法について説明します。

## 始める前に {#before-you-begin}

データ アプリのカスタム ドメインを構成する前に、次の点に注意してください。

-   カスタム ドメイン リクエストは、セキュリティのために HTTPS のみをサポートします。カスタム ドメインを正常に構成すると、「Let&#39;s Encrypt」証明書が自動的に適用されます。
-   カスタム ドメインは、 TiDB Cloudデータ サービス内で一意である必要があります。
-   クラスターのリージョンによって決定されるデフォルト ドメインごとに、カスタム ドメインを 1 つだけ構成できます。

## カスタムドメインを管理する {#manage-custom-domains}

次のセクションでは、データ アプリのカスタム ドメインを作成、編集、削除する方法について説明します。

### カスタムドメインを作成する {#create-a-custom-domain}

データ アプリのカスタム ドメインを作成するには、次の手順を実行します。

1.  プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。
2.  左側のペインで、対象のデータ アプリの名前をクリックして詳細を表示します。
3.  **[カスタム ドメインの管理]**領域で、 **[カスタム ドメインの追加]**をクリックします。
4.  **[カスタム ドメインの追加]**ダイアログ ボックスで、次の操作を行います。
    1.  置き換えるデフォルトのドメインを選択します。
    2.  希望するカスタム ドメイン名を入力します。
    3.  オプション: エンドポイントのプレフィックスとしてカスタム パスを構成します。**カスタム パス**が空のままの場合、デフォルトのパスが使用されます。
5.  **ベース URL**をプレビューして、期待どおりであることを確認します。正しい場合は、 **[保存]**をクリックします。
6.  **DNS 設定**ダイアログの指示に従って、DNS プロバイダーのデフォルト ドメインの`CNAME`レコードを追加します。

システムが DNS 設定を検証している間、カスタム ドメインは最初は「**保留中**」ステータスになります。DNS 検証が成功すると、カスタム ドメインのステータスが**「成功」**に更新されます。

> **注記：**
>
> DNS プロバイダーによっては、DNS レコードが検証されるまでに最大 24 時間かかる場合があります。カスタム ドメインが 24 時間以上検証されない場合、**期限切れ**ステータスになります。この場合、カスタム ドメインを削除して再試行するしかありません。

カスタム ドメインのステータスが**Success**に設定されると、それを使用してエンドポイントにアクセスできます。TiDB TiDB Cloud Data Service によって提供されるコード例は、カスタム ドメインとパスに自動的に更新されます。詳細については、 [エンドポイントを呼び出す](/tidb-cloud/data-service-manage-endpoint.md#call-an-endpoint)参照してください。

### カスタムドメインを編集する {#edit-a-custom-domain}

> **注記：**
>
> 以下の変更を完了すると、以前のカスタム ドメインとカスタム パスは直ちに無効になります。カスタム ドメインを変更する場合は、新しい DNS レコードが検証されるまで待つ必要があります。

データ アプリのカスタム ドメインを編集するには、次の手順を実行します。

1.  プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。
2.  左側のペインで、対象のデータ アプリの名前をクリックして詳細を表示します。
3.  **「カスタムドメインの管理」**領域で、「**アクション」**列を見つけてクリックします。 <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" stroke-width="1.5" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M11 4H6.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C2 6.28 2 7.12 2 8.8v8.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C4.28 22 5.12 22 6.8 22h8.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C20 19.72 20 18.88 20 17.2V13M8 16h1.675c.489 0 .733 0 .963-.055.204-.05.4-.13.579-.24.201-.123.374-.296.72-.642L21.5 5.5a2.121 2.121 0 0 0-3-3l-9.563 9.563c-.346.346-.519.519-.642.72a2 2 0 0 0-.24.579c-.055.23-.055.474-.055.963V16Z" stroke-width="inherit"></path></svg>編集するカスタム ドメインの行を**編集します**。
4.  表示されたダイアログ ボックスで、カスタム ドメインまたはカスタム パスを更新します。
5.  **ベース URL**をプレビューして、期待どおりであることを確認します。正しい場合は、 **[保存]**をクリックします。
6.  カスタム ドメインを変更した場合は、 **[DNS 設定]**ダイアログの指示に従って、DNS プロバイダーのデフォルト ドメインの`CNAME`レコードを追加します。

### カスタムドメインを削除する {#remove-a-custom-domain}

> **注記：**
>
> カスタム ドメインを削除する前に、カスタム ドメインがもう使用されていないことを確認してください。

データ アプリのカスタム ドメインを削除するには、次の手順を実行します。

1.  プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。
2.  左側のペインで、対象のデータ アプリの名前をクリックして詳細を表示します。
3.  **「カスタムドメインの管理」**領域で、「**アクション」**列を見つけてクリックします。 <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" stroke-width="1.5" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M16 6v-.8c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C14.48 2 13.92 2 12.8 2h-1.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2V6m2 5.5v5m4-5v5M3 6h18m-2 0v11.2c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C16.72 22 15.88 22 14.2 22H9.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C5 19.72 5 18.88 5 17.2V6" stroke-width="inherit"></path></svg>削除するカスタム ドメインの行を**削除します**。
4.  表示されたダイアログボックスで削除を確認します。

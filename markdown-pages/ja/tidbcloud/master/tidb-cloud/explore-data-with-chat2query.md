---
title: Explore Your Data with AI-Powered Chat2Query (beta)
summary: TiDB Cloudコンソールの AI 搭載 SQL エディターである Chat2Query を使用して、データの価値を最大化する方法を学びます。
---

# AI 搭載の Chat2Query (ベータ版) でデータを探索する {#explore-your-data-with-ai-powered-chat2query-beta}

TiDB Cloudは AI を活用しています。1 [TiDB Cloudコンソール](https://tidbcloud.com/) AI 搭載 SQL エディターである Chat2Query (ベータ版) を使用して、データの価値を最大限に高めることができます。

Chat2Query では、単に`--`と入力して指示を入力するだけで AI に SQL クエリを自動的に生成させるか、SQL クエリを手動で記述してターミナルなしでデータベースに対して SQL クエリを実行することができます。クエリ結果をテーブルで直感的に見つけ、クエリ ログを簡単に確認できます。

> **注記：**
>
> Chat2Query は、AWS でホストされている v6.5.0 以降の TiDB クラスターでサポートされています。
>
> -   [TiDB サーバーレス](/tidb-cloud/select-cluster-tier.md#tidb-serverless)クラスターの場合、Chat2Query はデフォルトで使用できます。
> -   [TiDB専用](/tidb-cloud/select-cluster-tier.md#tidb-dedicated)クラスターの場合、Chat2Query はリクエストに応じてのみ利用できます。TiDB 専用クラスターで Chat2Query を使用するには、 [TiDB Cloudサポート](/tidb-cloud/tidb-cloud-support.md)にお問い合わせください。

## ユースケース {#use-cases}

Chat2Query の推奨される使用例は次のとおりです。

-   Chat2Query の AI 機能を使用して、複雑な SQL クエリを即座に生成します。
-   TiDB の MySQL 互換性をすぐにテストします。
-   TiDB SQL の機能を簡単に探索します。

## 制限 {#limitation}

-   AI によって生成された SQL クエリは 100% 正確ではないため、さらに調整が必要になる場合があります。
-   [チャット2クエリAPI](/tidb-cloud/use-chat2query-api.md) [TiDB サーバーレス](/tidb-cloud/select-cluster-tier.md#tidb-serverless)クラスターで使用できます。5 [TiDB専用](/tidb-cloud/select-cluster-tier.md#tidb-dedicated)クラスターで Chat2Query API を使用するには、 [TiDB Cloudサポート](/tidb-cloud/tidb-cloud-support.md)にお問い合わせください。

## Chat2Queryにアクセスする {#access-chat2query}

1.  プロジェクトの[**クラスター**](https://tidbcloud.com/console/clusters)ページに移動します。

    > **ヒント：**
    >
    > 複数のプロジェクトがある場合は、<mdsvgicon name="icon-left-projects">左下隅にある をクリックして、別のプロジェクトに切り替えます。</mdsvgicon>

2.  クラスター名をクリックし、左側のナビゲーション ペインで**Chat2Query**をクリックします。

    > **注記：**
    >
    > 以下の場合、 **Chat2Query**エントリは灰色で表示され、クリックできません。
    >
    > -   TiDB 専用クラスターは v6.5.0 より前のバージョンです。Chat2Query を使用するには、契約[TiDB Cloudサポート](/tidb-cloud/tidb-cloud-support.md)結んでクラスターをアップグレードする必要があります。
    > -   TiDB 専用クラスターが作成されたばかりで、Chat2Query の実行環境はまだ準備中です。この場合は、数分待つと Chat2Query が利用可能になります。
    > -   TiDB 専用クラスターは[一時停止](/tidb-cloud/pause-or-resume-tidb-cluster.md)です。

## AI による SQL クエリの生成を有効または無効にする {#enable-or-disable-ai-to-generate-sql-queries}

PingCAP は、ユーザーデータのプライバシーとセキュリティを最優先に考えています。Chat2Query の AI 機能は、SQL クエリを生成するためにデータベース スキーマにアクセスするだけでよく、データ自体にアクセスする必要はありません。詳細については、 [Chat2Query プライバシーFAQ](https://www.pingcap.com/privacy-policy/privacy-chat2query)参照してください。

Chat2Query に初めてアクセスすると、PingCAP と OpenAI がコード スニペットを使用してサービスを調査および改善することを許可するかどうかを尋ねるダイアログが表示されます。

-   AI が SQL クエリを生成できるようにするには、チェックボックスをオンにして、 **「保存して開始」を**クリックします。
-   AI による SQL クエリの生成を無効にするには、このダイアログを直接閉じます。

初回アクセス後も、次のように AI 設定を変更できます。

-   AI を有効にするには、Chat2Query の右上隅にある**「データ探索のための AI パワーを有効にする」**をクリックします。
-   AIを無効にするには、<mdsvgicon name="icon-top-account-settings"> [TiDB Cloudコンソール](https://tidbcloud.com/)の左下隅にある**[アカウント設定]**をクリックし、 **[プライバシー]**タブをクリックして、 **[AI を活用したデータ探索]**オプションを無効にします。</mdsvgicon>

## SQLクエリを記述して実行する {#write-and-run-sql-queries}

Chat2Query では、独自のデータセットを使用して SQL クエリを記述および実行できます。

1.  SQL クエリを記述します。

    -   AI が有効になっている場合は、 `--`と入力して指示を入力するだけで、AI によって SQL クエリが自動的に生成されるか、SQL クエリが手動で記述されます。

        AI によって生成された SQL クエリの場合は、 <kbd>Tab キー</kbd>を押して受け入れ、必要に応じてさらに編集するか、 <kbd>Esc キー</kbd>を押して拒否することができます。

    -   AI が無効になっている場合は、SQL クエリを手動で記述します。

2.  SQL クエリを実行します。

    <SimpleTab>
     <div label="macOS">

    macOSの場合:

    -   エディタにクエリが1つしかない場合は、それを実行するには**⌘ + Enter**を押すか、 <svg width="1rem" height="1rem" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.70001 20.7756C6.01949 20.3926 6.00029 19.5259 6.00034 19.0422L6.00034 12.1205L6 5.33028C6 4.75247 6.00052 3.92317 6.38613 3.44138C6.83044 2.88625 7.62614 2.98501 7.95335 3.05489C8.05144 3.07584 8.14194 3.12086 8.22438 3.17798L19.2865 10.8426C19.2955 10.8489 19.304 10.8549 19.3126 10.8617C19.4069 10.9362 20 11.4314 20 12.1205C20 12.7913 19.438 13.2784 19.3212 13.3725C19.307 13.3839 19.2983 13.3902 19.2831 13.4002C18.8096 13.7133 8.57995 20.4771 8.10002 20.7756C7.60871 21.0812 7.22013 21.0683 6.70001 20.7756Z" fill="currentColor"></path></svg>**走る**。

    -   エディターに複数のクエリがある場合、そのうちの 1 つまたは複数のクエリを順番に実行するには、カーソルで対象クエリの行を選択し、 **⌘ + Enter**キーを押すか、 **[実行]**をクリックします。

    -   エディター内のすべてのクエリを順番に実行するには、 **⇧ + ⌘ + Enter**を押すか、カーソルですべてのクエリの行を選択して**「実行」**をクリックします。

    </div>

    <div label="Windows/Linux">

    Windows または Linux の場合:

    -   エディタにクエリが1つしかない場合は、それを実行するには**Ctrl + Enter**を押すか、 <svg width="1rem" height="1rem" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.70001 20.7756C6.01949 20.3926 6.00029 19.5259 6.00034 19.0422L6.00034 12.1205L6 5.33028C6 4.75247 6.00052 3.92317 6.38613 3.44138C6.83044 2.88625 7.62614 2.98501 7.95335 3.05489C8.05144 3.07584 8.14194 3.12086 8.22438 3.17798L19.2865 10.8426C19.2955 10.8489 19.304 10.8549 19.3126 10.8617C19.4069 10.9362 20 11.4314 20 12.1205C20 12.7913 19.438 13.2784 19.3212 13.3725C19.307 13.3839 19.2983 13.3902 19.2831 13.4002C18.8096 13.7133 8.57995 20.4771 8.10002 20.7756C7.60871 21.0812 7.22013 21.0683 6.70001 20.7756Z" fill="currentColor"></path></svg>**走る**。

    -   エディターに複数のクエリがある場合、そのうちの 1 つまたは複数のクエリを順番に実行するには、カーソルで対象クエリの行を選択し、 **Ctrl + Enter**キーを押すか、 **[実行]**をクリックします。

    -   エディター内のすべてのクエリを順番に実行するには、 **Shift + Ctrl + Enter**を押すか、カーソルですべてのクエリの行を選択して**「実行」**をクリックします。

    </div>
     </SimpleTab>

クエリを実行すると、ページの下部にクエリ ログと結果がすぐに表示されます。

## SQL ファイルの管理 {#manage-sql-files}

Chat2Query では、SQL クエリをさまざまな SQL ファイルに保存し、次のように SQL ファイルを管理できます。

-   SQL ファイルを追加するには、 **「SQL ファイル」**タブで**+ を**クリックします。
-   SQL ファイルの名前を変更するには、ファイル名の上にカーソルを移動し、ファイル名の横にある**[...]**をクリックして、 **[名前の変更]**を選択します。
-   SQL ファイルを削除するには、ファイル名にカーソルを移動し、ファイル名の横にある**[...]**をクリックして、 **[削除**] を選択します。 **[SQL ファイル**] タブに SQL ファイルが 1 つしかない場合は、削除できないことに注意してください。

## API経由でChat2Queryにアクセスする {#access-chat2query-via-api}

UI 経由で Chat2Query にアクセスするだけでなく、API 経由で Chat2Query にアクセスすることもできます。そのためには、まず Chat2Query データ アプリを作成する必要があります。

Chat2Query では、次のようにして Chat2Query データ アプリにアクセスしたり、作成したりできます。

1.  右上隅の**「...」**をクリックし、 **「API 経由で Chat2Query にアクセス」**をクリックします。
2.  表示されたダイアログで、次のいずれかを実行します。

    -   新しい Chat2Query データ アプリを作成するには、 **[新しい Chat2Query データ アプリ]**をクリックします。
    -   既存の Chat2Query データ アプリにアクセスするには、対象のデータ アプリの名前をクリックします。

詳細については[Chat2Query APIを使い始める](/tidb-cloud/use-chat2query-api.md)参照してください。

## SQL ファイルからエンドポイントを生成する {#generate-an-endpoint-from-a-sql-file}

TiDB クラスターの場合、 TiDB Cloud は、カスタム API エンドポイントを使用して HTTPS リクエスト経由でTiDB Cloudデータにアクセスできる[データ サービス (ベータ版)](/tidb-cloud/data-service-overview.md)機能を提供します。Chat2Query では、次の手順を実行して、SQL ファイルからデータ サービス (ベータ) のエンドポイントを生成できます。

1.  カーソルをファイル名の上に移動し、ファイル名の横にある**[...]**をクリックして、 **[エンドポイントの生成]**を選択します。
2.  **[エンドポイントの生成]**ダイアログ ボックスで、エンドポイントを生成するデータ アプリを選択し、エンドポイント名を入力します。
3.  **「生成」を**クリックします。エンドポイントが生成され、その詳細ページが表示されます。

詳細については[エンドポイントを管理する](/tidb-cloud/data-service-manage-endpoint.md)参照してください。

## Chat2Query設定を管理する {#manage-chat2query-settings}

Chat2Query では、次の設定を変更できます。

-   クエリ結果の最大行数
-   **スキーマ**タブにシステムデータベーススキーマを表示するかどうか

設定を変更するには、次の手順を実行します。

1.  Chat2Query の右上隅で、 **[...]**をクリックし、 **[設定]**を選択します。
2.  必要に応じて設定を変更してください。
3.  **「保存」を**クリックします。
